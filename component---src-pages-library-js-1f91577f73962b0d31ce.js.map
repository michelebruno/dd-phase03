{"version":3,"file":"component---src-pages-library-js-1f91577f73962b0d31ce.js","mappings":"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","sources":["webpack://phase-03/./src/components/Button.js","webpack://phase-03/./src/components/Comment.js","webpack://phase-03/./src/components/WordsIndex.js","webpack://phase-03/./src/components/Accordion.js","webpack://phase-03/./src/utils/mix.js","webpack://phase-03/./src/components/maskometerGrid.js","webpack://phase-03/./src/components/Comments.js","webpack://phase-03/./src/pages/library.js","webpack://phase-03/./src/utils/sentences.js","webpack://phase-03/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React from \"react\";\nimport classNames from \"classnames\";\n\nexport function ArchiveButton({children, className, isSelected, isCurrent, checkbox, ...props}) {\n\n    return <button\n        disabled={isCurrent}\n        className={\n            classNames(\n                \"archive-button border-2 select-none\",\n\n                checkbox ?\n                    [\n                        'checkbox ',\n                        !isCurrent && 'hover:border-light active:bg-light active:text-black',\n                        isCurrent && 'bg-gray border-white cursor-disabled opacity-30',\n                        isSelected && 'border-light'\n                    ] :\n                    [\n                        \"text-sm 2xl:text-base\",\n                        (!isCurrent && !isSelected) &&\n                        'text-white border-black hover:border-light',\n                        isSelected && \"bg-light text-black border-light\",\n                        isCurrent && 'bg-gray text-white'\n                    ],\n                className\n            )}\n        {...props}\n    >\n        {checkbox && isSelected && <span className={\"leading-[0] text-lg mr-1\"}>{'\\u00D7'}</span>}\n        <span>\n                    {children}\n\n        </span>\n    </button>\n}\n\n\nexport default function Button({children, id, as: As, after, large, light, ...props}) {\n    return <As id={id}\n               className={classNames(\"group inline-block flex items-middle\", light ? 'hover:text-light-darker' : 'hover:text-light')}\n               activeClassName={classNames(light ? \"border-light-darker text-light-darker\" : \"border-light text-light\")} {...props}>\n        <span\n            className={classNames(\n\n                (large ? 'py-4 px-8 text-2xl rounded-3xl' : ' text-lg py-1 px-4 rounded-2xl'),\n                \" border-current group-active:bg-light group-active:text-black border\"\n            )\n            }>\n                    {children}\n        </span>\n        {after}\n    </As>\n\n}\n\nButton.defaultProps = {\n    as: 'a'\n}","import React, {useState} from \"react\";\nimport classNames from \"classnames\";\nimport {sentenceHasWord} from \"../utils/sentences\";\n\nexport function HighlightedWord({children, className, isActive, promask, nomask, secondary}) {\n    return <span\n        className={classNames(\n            'highlighted-word',\n            !promask && !nomask && 'before:bg-light',\n            secondary ?\n                [\n                    isActive && 'before:bg-light'\n                ] :\n                [\n                    promask && 'before:bg-promask',\n                    nomask && 'before:bg-nomask',\n                    isActive && (nomask || promask) && 'text-white',\n\n                ],\n            !isActive && 'before:scale-x-0',\n            className\n        )}\n    >\n        {children}\n    </span>\n}\n\nexport default function Comment({\n                                    id,\n                                    className,\n                                    children,\n                                    origin,\n                                    sentences,\n                                    user,\n                                    createdAt,\n                                    dateText,\n                                    word,\n                                    secondWord,\n                                    petition,\n                                    splitted,\n                                    petitionTitle,\n                                    highlightWords,\n                                    large\n                                }) {\n    let lastWasSkipped = false\n\n    const [showAll, setShowAll] = useState()\n\n    return <div\n        id={id}\n        className={classNames(\n            className,\n            \"comment grid grid-cols-8 w-full bg-white text-black boreder-2 normal-case\",\n            large ? 'p-16 rounded-[3rem] gap-8' : 'p-4  gap-4 rounded-xl text-base ',\n            origin === 'promask' && 'border-promask',\n            origin === 'nomask' && 'border-nomask'\n        )}>\n        <div className=\" \">\n            <div className={\"rounded-full bg-\" + origin} style={{aspectRatio: '1'}}/>\n        </div>\n        <div className={\"col-span-7\"}>\n            <div className={\"text-gray select-none \" + (large ? 'text-2xl' : 'text-sm')}>\n                <span>User{user}</span>\n                {' • '}\n                <span>{dateText || createdAt}</span>\n            </div>\n            <p className={'comment-text ' + (large ? 'text-3xl leading-snug py-4' : 'py-1 text-base')}>\n                {typeof sentences !== 'undefined' ? sentences.map((sentence, i) => {\n\n\n                    if (sentenceHasWord(sentence, word) || sentenceHasWord(sentence, secondWord)) {\n                        lastWasSkipped = false\n                        return <React.Fragment key={i}>{\n                            sentence.map((part, i) => {\n                                const isPrimaryWord = part.toLowerCase() === word\n                                const isSecondaryWord = part.toLowerCase() === secondWord\n\n                                if (isPrimaryWord || isSecondaryWord) return <React.Fragment\n                                    key={i}>{\" \"}\n                                    <HighlightedWord\n                                        isActive={highlightWords} promask={origin === 'promask'}\n                                        nomask={origin === 'nomask'} secondary={!isSecondaryWord}>\n                                        {part}\n                                    </HighlightedWord>\n                                </React.Fragment>\n\n                                if (part === secondWord) return <span key={i} className={\n                                    'border-light border-2'\n                                }>{part}</span>\n\n                                return part\n                            })\n                        }{\" \"}\n                        </React.Fragment>\n                    }\n\n                    if (!lastWasSkipped) {\n                        lastWasSkipped = true\n                        return \"[...] \"\n                    }\n\n\n                }) : children}\n            </p>\n            <a href={petition.slug ? \"https://www.change.org/p/\" + petition.slug : undefined} title={petition.title}\n               className={classNames(\"text-gray truncate underline block \",\n                   petition.slug && ' hover:text-light-darker',\n                   large ? 'text-2xl' : 'text-sm')}\n               target={'_blank'}>\n                {petition.title || \"Petition title\"}\n            </a>\n        </div>\n\n    </div>\n\n}\n\n\nComment.defaultProps = {\n    highlightWords: true\n}","import classNames from \"classnames\";\nimport React from \"react\";\n\nexport default function Index({words, chosen, setChosen}) {\n\n    return <div className={classNames(\n        \"transition-all duration-1000 flex flex-col\",\n        chosen.current ? \"w-2/12 border-r-2 border-t2 border-r-white\" : \"w-full \"\n    )}>\n        <div\n            className={\"sticky top-0 text-light px-8 pt-4 pb-4 border-white border-b-2 transition-[width] duration-1000 bg-black select-none  whitespace-nowrap \" + (!chosen.current && 'w-full cursor-pointer')}\n            onClick={() => setChosen({})}\n        >\n            <h2\n                className={\n                    classNames(\"inline-block text-3xl uppercase \")\n                }\n            >\n                Words\n            </h2>\n            <span\n                className={classNames(\"ml-2 text-light text-2xl\", chosen.current ? \"hidden\" : \"\")}>/ 20 most used in promask and nomask comments</span>\n\n        </div>\n\n        <ul className=\"overflow-y-scroll flex-1\">\n            {words\n                .map(({name, finding}, index) => {\n                    let isNextSelected = index+1 < words.length ? (words[index + 1].name === chosen.prev || words[index + 1].name === chosen.current) : false\n\n                    return <li\n                        key={name}\n                        onMouseEnter={() => setChosen(\n                            c => ({current: c.current, next: name})\n                        )}\n                        onMouseLeave={() => setChosen(c => ({...c, next: undefined}))}\n                        onClick={() => chosen.current !== name ? setChosen({current: name}) : setChosen({})}\n                        className={classNames(\n                            \"border-y-[1px] cursor-pointer hover:border-t-light\",\n                            \"px-8 pt-4 pb-4\",\n                            !isNextSelected && \"border-b-current\",\n                            chosen.current === name ? \"bg-light text-black border-t-light\" : \"hover:text-light border-t-black\",\n                        )}\n                    >\n                        <h2 className={classNames(\n                            \"text-lg uppercase\",\n                        )}>\n                            {name}\n                        </h2>\n                        {(chosen.current === name && finding) && <p className={\"pt-1 text-base\"}>\n                            {finding}\n                        </p>}\n                    </li>\n                })}\n        </ul>\n    </div>\n\n}","import React from \"react\";\nimport classNames from \"classnames\";\n\nexport default function Accordion({onClick, isOpen, children, title, subtitle}) {\n\n\n    return <div className={\"flex-grow flex flex-col last:border-t-white last:border-t-2 \" + (isOpen ? \"h-full\": '')}>\n        <div\n            className={\"pt-4 pb-4 px-8 border-y-white box-border flex justify-between group select-none cursor-pointer text-light \" }\n            onClick={onClick}\n        >\n            <div className={\"whitespace-nowrap \"}>\n                <h2\n                    className={\"text-2xl uppercase inline-block\"}\n                >\n                    {title}\n                </h2>\n                <span\n                    className={classNames(\"ml-2 leading-none text-xl transition-[opacity] normal-case\", isOpen ? \"\" : \"hidden group-hover:inline-block group-hover:opacity-50 group-active:opacity-100\")}>\n                    / {subtitle}\n                </span>\n\n            </div>\n\n            <div>\n                <svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                     <path d=\"M0 12.5L25 12.5\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                    {!isOpen && <path d=\"M12.5 25L12.5 -1.04308e-06\" stroke=\"currentColor\" strokeWidth=\"2\"/>}\n                </svg>\n            </div>\n\n        </div>\n\n        <div className={classNames(\n            \"\",\n            isOpen ? \"h-full\" : 'h-0 overflow-hidden'\n        )}>\n            {children}\n\n        </div>\n    </div>\n}\n\n\nAccordion.defaultProps = {\n    onToggle: () => {\n    }\n}","function d2h(d) {\n    return d.toString(16);\n}  // convert a decimal value to hex\nfunction h2d(h) {\n    return parseInt(h, 16);\n} // convert a hex value to decimal\n\n\nexport function mix(color_1, color_2, weight) {\n    weight = (typeof (weight) !== 'undefined') ? weight : 50; // set the weight to 50%, if that argument is omitted\n\n    let color = \"#\";\n\n    for (let i = 0; i <= 5; i += 2) { // loop through each of the 3 hex pairs—red, green, and blue\n        let v1 = h2d(color_1.substr(i, 2)), // extract the current pairs\n            v2 = h2d(color_2.substr(i, 2)),\n\n            // combine the current pairs from each source color, according to the specified weight\n            val = d2h(Math.floor(v2 + (v1 - v2) * (weight / 100.0)));\n\n        while (val.length < 2) {\n            val = '0' + val;\n        } // prepend a '0' if val results in a single digit\n\n        color += val; // concatenate val to our new color string\n    }\n\n    return color; // PROFIT!\n}","import React, {useState} from \"react\";\nimport classNames from \"classnames\";\nimport {ArchiveButton} from \"./Button\";\nimport {mix} from \"../utils/mix\";\n\n\nexport function MaskometerGrid({chosen, words, distribution, onClickSecondWord}) {\n\n\n    return <div className=\"h-full flex flex-col justify-between relative gap-4  \">\n        <p className={\"mx-8 mb-4 text-lg\"}>\n            Horizontal position corresponds to usage by the two groups in the selcted corpus of reasons to sign\n        </p>\n        <div className=\"flex-1 \">\n            <div\n                className={classNames(\" h-full px-8 py-4 flex flex-col justify-between relative\", 'overflow-hidden')}>\n                <div className={\"z-1 uppercase\"}>\n\n                    <p className=\"bg-promask text-white text-lg text-center h-full absolute top-0 bottom-0 left-0 rotate-180 p-1 z-10\"\n                       style={{writingMode: 'vertical-lr'}}>\n                        Promask\n                    </p>\n\n                    <p className=\"bg-nomask text-white text-xl text-center h-full absolute top-0 bottom-0 right-0 p-1 z-10\"\n                       style={{writingMode: 'vertical-rl'}}>\n                        Nomask\n                    </p>\n\n                    <div\n                        className=\"absolute top-0 bottom-0 right-1/2 translate-x-1/2 border-r-[1px] boreder-r-white border-dashed opacity-50\"/>\n\n                    <p className=\"text-lg text-sm 2xl:text-base text-center text-gray select-none absolute top-0 left-0 right-0 w-full normal-case bg-black pb-2\"\n                    >\n                        equally used\n                    </p>\n\n                </div>\n\n                {(typeof chosen !== 'undefined' && chosen.current) ?\n                    words.nodes.map(({name}) => {\n\n                        let isCurrent = chosen.next ? chosen.next === name : chosen.current === name\n\n\n                        let delta = distribution\n                            .find(({\n                                       word,\n                                       secondWord\n                                   }) => {\n\n                                if (chosen.next) {\n                                    return chosen.next === word && secondWord === name\n                                }\n                                return (chosen.current && word === chosen.current) && secondWord === name\n                            })['nomaskDelta']\n\n                        delta = Math.round(delta * 100)\n\n                        return <div key={name}\n                                    className={\n                                        classNames(\n                                            \"w-full flex items-center relative\",\n                                            \"before:absolute before:left-0 before:right-0 \",\n                                            \"before:border-b-[1px] before:block before:top-1/2 before:transition-all\",\n                                            \"before:w-full transition-[margin,background-color] duration-500\",\n                                            isCurrent ? 'before:border-b-gray  opacity-30' : 'before:border-b-current  before:opacity-20'\n                                        )\n                                    }>\n                            <ArchiveButton\n                                isCurrent={isCurrent}\n                                style={{\n                                    marginLeft: delta + \"%\",\n                                    '--gradient-mix': isCurrent ? undefined : mix('EA3C9A', '3514FF', delta)\n                                }}\n                                className={\"transition-[margin] duration-1000 rounded-[0px] -translate-x-1/2 absolute z-20\"}\n                                onClick={() => onClickSecondWord(name)}\n                            >\n                                {name}\n                            </ArchiveButton>\n                        </div>\n                    }) : <div className=\"p-20 text-7xl w-3/4 opacity-50 upppercase\">\n                        click on one of the most used words to see how the related words are used by the two groups\n                        in the comments\n                    </div>\n                }\n            </div>\n\n        </div>\n    </div>\n}","import React, {useEffect, useMemo, useRef} from \"react\";\nimport classNames from \"classnames\";\nimport Comment from \"./Comment\";\nimport {ArchiveButton} from \"./Button\";\nimport {mix} from \"../utils/mix\";\nimport {sentencesHaveWord} from \"../utils/sentences\";\n\n\nfunction GroupCommentList({comments, chosen, secondWord, origin}) {\n\n    const {filteredComments, totalComments} = useMemo(() => {\n        let thisOriginComments = comments\n            .filter(({origin: o}) => origin === o)\n\n\n        return {\n            totalComments: thisOriginComments.length,\n            filteredComments: thisOriginComments\n                .filter(({sentences}) => {\n                    return !secondWord || sentencesHaveWord(sentences, secondWord)\n                })\n        }\n    }, [secondWord, origin, chosen])\n\n\n    return <div>\n        <p className=\"sticky top-0 bg-black z-30 text-center text-lg pt-3 pb-4\">\n            {filteredComments.length}{secondWord && \" of \" + totalComments + ` (${(filteredComments.length/totalComments).toFixed(2)*100}%)`} {origin} opinions\n        </p>\n\n        <div key={origin} className={\"flex flex-col gap-4 pb-64 \"}> {filteredComments\n            .map(\n                (c) => <Comment key={c.id}\n                                highlightWords={true}\n                                word={chosen}\n                                secondWord={secondWord} {...c} />\n            )}\n\n        </div>\n    </div>\n}\n\nexport default function Comments({comments, chosen, secondWord, onChangeSecondWord, distribution}) {\n\n    const scroller = useRef()\n\n    useEffect(() => {\n        scroller.current?.scrollTo(0,0)\n    }, [chosen, secondWord])\n\n\n    return <div className={\"flex h-full px-8 flex-wrap \"}>\n        <p className=\"mb-4 w-full text-lg\">Here you can read the reasons to sign the 100 most popular promask and nomask\n            petition</p>\n        <div className={\"w-full sticky top-0\"}>\n            <h2 className={\"text-lg text-light my-4\"}>Filter opinions by:</h2>\n            <div className=\"flex flex-wrap gap-x-2\">\n                {distribution.map(({secondWord: word, nomaskDelta}) => {\n                    const isSelected = secondWord === word\n                    const isCurrent = chosen === word\n\n                    return <ArchiveButton\n                        key={word}\n                        checkbox\n                        isCurrent={isCurrent}\n                        className={\"mb-2\"}\n                        isSelected={isSelected}\n                        onClick={() => onChangeSecondWord(isSelected ? undefined : word)}\n                        style={{\n                            '--gradient-mix': mix('EA3C9A', '3514FF', nomaskDelta * 100)\n                        }}\n                    >\n                        {word}\n                    </ArchiveButton>\n                })}\n            </div>\n        </div>\n        <div className=\"flex h-full w-full overflow-y-scroll\" ref={scroller}>\n\n            <div\n                className={classNames(\"transition-transform w-10/12 mx-auto\")}\n                id={\"comments-container\"}>\n                <div className=\"grid grid-cols-2 gap-16 justify-around \">\n                    {['promask', 'nomask'].map(origin => <GroupCommentList key={origin} origin={origin}\n                                                                           comments={comments}\n                                                                           chosen={chosen} secondWord={secondWord}/>)}\n                </div>\n            </div>\n        </div>\n    </div>\n}","import React, {useEffect, useMemo, useState} from \"react\";\nimport {graphql} from \"gatsby\";\nimport Layout from \"../components/Layout\";\nimport classNames from \"classnames\";\nimport WordsIndex from \"../components/WordsIndex\";\nimport Accordion from \"../components/Accordion\";\nimport {MaskometerGrid} from \"../components/maskometerGrid\";\nimport Comments from \"../components/Comments\";\nimport {sentencesHaveWord} from \"../utils/sentences\";\n\nexport default function Library({data: {words, allComments, ...data}}) {\n    const [chosen, setChosen] = useState({})\n    const [secondWord, setSecondWord] = useState()\n    const [showComments, setShowComments] = useState(false)\n\n    const filteredComments = useMemo(() => allComments\n            .nodes\n            .filter(({sentences}) => {\n                return sentencesHaveWord(sentences, chosen.current)\n            }),\n        [chosen.current])\n\n    useEffect(() => {\n        !showComments && secondWord && setShowComments(true)\n    }, [secondWord])\n\n    useEffect(() => {\n        !chosen.next && setSecondWord()\n    }, [chosen])\n\n    const listOfChosenWords = words.nodes.map(x => x.name)\n\n    const distribution = data\n        .distribution\n        .nodes\n        .filter(i => {\n            return listOfChosenWords.findIndex(x => x === i.secondWord) !== -1\n        })\n\n\n    return <Layout wrapperClassName={\"max-h-screen h-screen flex flex-col lg:pb-8 2xl:pb-8 3xl:pb-16\"}\n                   className={\"flex-1 min-h-0 \"}>\n        <div className=\"w-full h-full overflow-hidden flex flex-nowrap  border-y-white border-y-2 \">\n            <WordsIndex words={words.nodes} chosen={chosen} setChosen={setChosen}/>\n            <div className={classNames(\n                'transition-[width] duration-1000 overflow-hidden flex flex-col',\n                chosen.current ? 'w-10/12' : 'w-0'\n            )}>\n                <Accordion title={\"Related words\"} subtitle={<>usage of words when occurring with <span\n                    className=\"uppercase\">{chosen.current}</span></>}\n                           isOpen={!showComments} onClick={() => setShowComments(!showComments)}>\n                    <MaskometerGrid chosen={chosen} words={words} distribution={distribution}\n                                    onClickSecondWord={setSecondWord}/>\n                </Accordion>\n                <Accordion title={\"Opinions\"}\n                           subtitle={<>containing <span\n                               className=\"uppercase\">{chosen.current}</span> {secondWord && <>and <span\n                               className=\"uppercase\">{secondWord}</span></>}  </>}\n                           isOpen={showComments} onClick={() => setShowComments(!showComments)}>\n                    <Comments\n                        comments={filteredComments}\n                        distribution={distribution.filter(({word}) => word === chosen.current)}\n                        chosen={chosen.current}\n                        secondWord={secondWord}\n                        onChangeSecondWord={setSecondWord}\n                    />\n                </Accordion>\n            </div>\n        </div>\n    </Layout>\n}\n\nexport const query = graphql`query Glossary {\n    words: allSheetsScatter(filter: {scelta: {eq: \"X\"}}, sort: {order: ASC, fields: [name]}){\n        nodes{\n            name\n            deltaPromask\n            finding\n        }\n    }\n    distribution: allSheetsDistribuzioneV2(sort: {order: ASC, fields: [secondWord]}) {\n        nodes {\n            word\n            secondWord\n            nomaskDelta\n            promaskDelta\n        }\n    }\n    allComments: allCommentsJson(sort: {fields: [createdAt], order: DESC}) {\n        nodes {\n            ...CommentJsonFragment\n        }\n    }\n}`\n","export function sentenceHasWord(sentence, word) {\n    return sentence.findIndex(p => p.toLowerCase() === word) !== -1\n}\n\nexport function sentencesHaveWord(sentences, word) {\n    for (const sentence of sentences) {\n        if (sentenceHasWord(sentence, word)) {\n            return true\n        }\n    }\n\n    return false\n}\n\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["ArchiveButton","children","className","isSelected","isCurrent","checkbox","props","disabled","classNames","Button","id","As","as","after","large","light","activeClassName","defaultProps","HighlightedWord","isActive","promask","nomask","secondary","Comment","origin","sentences","user","createdAt","dateText","word","secondWord","petition","highlightWords","splitted","petitionTitle","lastWasSkipped","useState","style","aspectRatio","map","sentence","i","sentenceHasWord","key","part","isPrimaryWord","toLowerCase","isSecondaryWord","href","slug","undefined","title","target","Index","words","chosen","setChosen","current","onClick","index","name","finding","isNextSelected","length","prev","onMouseEnter","c","next","onMouseLeave","Accordion","isOpen","subtitle","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","onToggle","h2d","h","parseInt","mix","color_1","color_2","weight","color","v1","substr","v2","val","Math","floor","toString","MaskometerGrid","distribution","onClickSecondWord","writingMode","nodes","delta","find","round","marginLeft","GroupCommentList","comments","useMemo","thisOriginComments","filter","o","totalComments","filteredComments","sentencesHaveWord","toFixed","Comments","onChangeSecondWord","scroller","useRef","useEffect","scrollTo","nomaskDelta","ref","Library","data","allComments","setSecondWord","showComments","setShowComments","listOfChosenWords","x","findIndex","Layout","wrapperClassName","p","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","Object","keys","indexOf"],"sourceRoot":""}