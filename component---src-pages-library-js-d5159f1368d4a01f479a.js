"use strict";(self.webpackChunkphase_03=self.webpackChunkphase_03||[]).push([[255],{7004:function(e,t,r){r.d(t,{e:function(){return i},Z:function(){return u}});var n=r(3366),a=r(7294),l=r(5900),o=r.n(l),s=["children","className","isSelected","isCurrent","checkbox"],c=["children","id","as","after","large","light"];function i(e){var t=e.children,r=e.className,l=e.isSelected,c=e.isCurrent,i=e.checkbox,u=(0,n.Z)(e,s);return a.createElement("button",Object.assign({disabled:c,className:o()("archive-button border-2 select-none",i?["checkbox ",!c&&"hover:border-light active:bg-light active:text-black",c&&"bg-gray border-white cursor-disabled opacity-30",l&&"border-light"]:[!c&&!l&&"text-white border-black hover:border-light",l&&"bg-light text-black border-light",c&&"bg-gray text-white"],r)},u),i&&l&&a.createElement("span",{className:"leading-[0] text-lg mr-1"},"×"),a.createElement("span",null,t))}function u(e){var t=e.children,r=e.id,l=e.as,s=e.after,i=e.large,u=e.light,m=(0,n.Z)(e,c);return a.createElement(l,Object.assign({id:r,className:o()("group inline-block flex items-middle",u?"hover:text-light-darker":"hover:text-light"),activeClassName:o()(u?"border-light-darker text-light-darker":"border-light text-light")},m),a.createElement("span",{className:o()(i?"py-4 px-8 text-2xl rounded-3xl":" text-lg py-1 px-4 rounded-2xl"," border-current group-active:bg-light group-active:text-black border")},t),s)}u.defaultProps={as:"a"}},3132:function(e,t,r){r.d(t,{N:function(){return s},Z:function(){return c}});var n=r(7294),a=r(5900),l=r.n(a),o=r(166);function s(e){var t=e.children,r=e.className,a=e.isActive,o=e.promask,s=e.nomask,c=e.secondary;return n.createElement("span",{className:l()("highlighted-word",!o&&!s&&"before:bg-light",c?[a&&"before:bg-light"]:[o&&"before:bg-promask",s&&"before:bg-nomask",a&&(s||o)&&"text-white"],!a&&"before:scale-x-0",r)},t)}function c(e){var t=e.id,r=e.className,a=e.children,c=e.origin,i=e.sentences,u=e.user,m=e.createdAt,d=e.dateText,f=e.word,p=e.secondWord,b=e.petition,h=(e.splitted,e.petitionTitle,e.highlightWords),g=e.large,x=!1,v=(0,n.useState)();v[0],v[1];return n.createElement("div",{id:t,className:l()(r,"comment grid grid-cols-9 w-full bg-white text-black boreder-2 normal-case",g?"p-16 rounded-[3rem] gap-8":"p-4  gap-4 rounded-xl text-base ","promask"===c&&"border-promask","nomask"===c&&"border-nomask")},n.createElement("div",{className:" "},n.createElement("div",{className:"rounded-full bg-"+c,style:{aspectRatio:"1"}})),n.createElement("div",{className:"col-span-8"},n.createElement("div",{className:"text-gray select-none "+(g?"text-2xl":"text-xs")},n.createElement("span",null,"User",u)," • ",n.createElement("span",null,d||m)),n.createElement("p",{className:"comment-text "+(g?"text-3xl leading-snug py-4":"py-2 text-base")},void 0!==i?i.map((function(e,t){return(0,o.b)(e,f)||(0,o.b)(e,p)?(x=!1,n.createElement(n.Fragment,{key:t},e.map((function(e,t){var r=e.toLowerCase()===f,a=e.toLowerCase()===p;return r||a?n.createElement(n.Fragment,{key:t}," ",n.createElement(s,{isActive:h,promask:"promask"===c,nomask:"nomask"===c,secondary:!a},e)):e===p?n.createElement("span",{key:t,className:"border-light border-2"},e):e}))," ")):x?void 0:(x=!0,"[...] ")})):a),n.createElement("a",{href:b.slug?"https://www.change.org/p/"+b.slug:void 0,title:b.title,className:l()("text-gray truncate underline block ",b.slug?" hover:text-light-darker":"cursor-default",g?"text-2xl":"text-xs"),target:"_blank"},b.title||"Petition title")))}c.defaultProps={highlightWords:!0}},5986:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(3366),a=r(7294),l=r(9410),o=r(5900),s=r.n(o);function c(e){var t=e.words,r=e.chosen,n=e.setChosen;return a.createElement("div",{className:s()("transition-all duration-1000 flex flex-col",r.current?"w-2/12 border-r-2 border-t2 border-r-white":"w-full ")},a.createElement("div",{className:"sticky top-0 text-light px-8 pt-4 pb-4 border-white border-b-2 duration-1000 bg-black select-none  whitespace-nowrap "+(!r.current&&"w-full cursor-pointer"),onClick:function(){return n({})}},a.createElement("h2",{className:s()("inline-block text-2xl uppercase ")},"Words"),a.createElement("span",{className:s()("ml-2 text-light text-2xl",r.current?"hidden":"")},"/ 20 most used in promask and nomask comments")),a.createElement("ul",{className:"overflow-y-scroll no-scrollbar flex-1"},t.map((function(e,l){var o=e.name,c=e.finding,i=l+1<t.length&&(t[l+1].name===r.prev||t[l+1].name===r.current);return a.createElement("li",{key:o,onClick:function(){return r.current!==o?n({current:o}):n({})},className:s()("border-y-[1px] cursor-pointer hover:border-t-light","px-8 pt-4 pb-4",!i&&"border-b-current",r.current===o?"bg-light text-black border-t-light":"hover:text-light border-t-black")},a.createElement("h2",{className:s()("text-lg uppercase")},o),r.current===o&&c&&a.createElement("p",{className:"pt-1 text-base"},c))}))))}function i(e){var t=e.onClick,r=e.isOpen,n=e.children,l=e.title,o=e.subtitle;return a.createElement("div",{className:"flex-grow flex flex-col last:border-t-white last:border-t-2 "+(r?"h-full":"")},a.createElement("div",{className:"pt-4 pb-4 px-8 border-y-white box-border flex justify-between group select-none cursor-pointer text-light ",onClick:t},a.createElement("div",{className:"whitespace-nowrap "},a.createElement("h2",{className:"text-2xl uppercase inline-block"},l),a.createElement("span",{className:s()("ml-2 leading-none text-xl transition-[opacity] normal-case",r?"":"group-hover:inline-block group-active:opacity-100")},"/ ",o)),a.createElement("div",null,a.createElement("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0 12.5L25 12.5",stroke:"currentColor",strokeWidth:"2"}),!r&&a.createElement("path",{d:"M12.5 25L12.5 -1.04308e-06",stroke:"currentColor",strokeWidth:"2"})))),a.createElement("div",{className:s()("",r?"h-full":"h-0 overflow-hidden")},n))}i.defaultProps={onToggle:function(){}};var u=r(7004);function m(e){return parseInt(e,16)}function d(e,t,r){r=void 0!==r?r:50;for(var n="#",a=0;a<=5;a+=2){for(var l=m(e.substr(a,2)),o=m(t.substr(a,2)),s=Math.floor(o+r/100*(l-o)).toString(16);s.length<2;)s="0"+s;n+=s}return n}function f(e){var t=e.chosen,r=e.words,n=e.distribution,l=e.onClickSecondWord;return a.createElement("div",{className:"h-full flex flex-col justify-between relative gap-4  "},a.createElement("p",{className:"mx-8 mb-4 text-lg"},"Horizontal position corresponds to usage by the two groups in the selcted corpus of reasons to sign"),a.createElement("div",{className:"flex-1 "},a.createElement("div",{className:s()(" h-full px-8 py-4 flex flex-col justify-between relative","overflow-hidden")},a.createElement("div",{className:"z-1 uppercase"},a.createElement("p",{className:"bg-promask text-white text-lg text-center h-full absolute top-0 bottom-0 left-0 rotate-180 p-1 z-10",style:{writingMode:"vertical-lr"}},"Promask"),a.createElement("p",{className:"bg-nomask text-white text-xl text-center h-full absolute top-0 bottom-0 right-0 p-1 z-10",style:{writingMode:"vertical-rl"}},"Nomask"),a.createElement("div",{className:"absolute top-0 bottom-0 right-1/2 translate-x-1/2 border-r-[1px] boreder-r-white border-dashed opacity-50"}),a.createElement("p",{className:"text-lg text-sm 2xl:text-base text-center text-gray select-none absolute top-0 left-0 right-0 w-full normal-case bg-black pb-2"},"equally used")),void 0!==t&&t.current?r.nodes.map((function(e){var r=e.name,o=t.next?t.next===r:t.current===r,c=n.find((function(e){var n=e.word,a=e.secondWord;return t.next?t.next===n&&a===r:t.current&&n===t.current&&a===r})).nomaskDelta;return c=Math.round(100*c),a.createElement("div",{key:r,className:s()("w-full flex items-center relative","before:absolute before:left-0 before:right-0 ","before:border-b-[1px] before:block before:top-1/2 before:transition-all","before:w-full transition-[margin,background-color] duration-500",o?"before:border-b-gray  opacity-30":"before:border-b-current  before:opacity-20")},a.createElement(u.e,{isCurrent:o,style:{marginLeft:c+"%","--gradient-mix":o?void 0:d("EA3C9A","3514FF",c)},className:"transition-[margin] duration-1000 rounded-[0px] -translate-x-1/2 absolute z-20",onClick:function(){return l(r)}},r))})):a.createElement("div",{className:"p-20 text-7xl w-3/4 opacity-50 upppercase"},"click on one of the most used words to see how the related words are used by the two groups in the comments"))))}var p=r(3132),b=r(166);function h(e){var t=e.comments,r=e.chosen,n=e.secondWord,l=e.origin,o=(0,a.useMemo)((function(){var e=t.filter((function(e){var t=e.origin;return l===t}));return{totalComments:e.length,filteredComments:e.filter((function(e){var t=e.sentences;return!n||(0,b.a)(t,n)}))}}),[n,l,r]),s=o.filteredComments,c=o.totalComments;return a.createElement("div",null,a.createElement("p",{className:"sticky top-[8.05rem] bg-black z-30 text-center text-lg pt-3 pb-4"},s.length,n&&" of "+c+" ("+(100*s.length/c).toFixed(0)+"%)"," ",l," opinions"),a.createElement("div",{key:l,className:"flex flex-col gap-4 pb-64 "}," ",s.map((function(e){return a.createElement(p.Z,Object.assign({key:e.id,highlightWords:!0,word:r,secondWord:n},e))}))))}function g(e){var t=e.comments,r=e.chosen,n=e.secondWord,l=e.onChangeSecondWord,o=e.distribution,c=(0,a.useRef)();return(0,a.useEffect)((function(){var e;null===(e=c.current)||void 0===e||e.scrollTo(0,0)}),[r,n]),a.createElement("div",{className:"flex h-full px-8 flex-wrap "},a.createElement("p",{className:"mb-4 w-full text-lg"},"Here you can read the reasons to sign the 100 most popular promask and nomask petition"),a.createElement("div",{className:"flex flex-col h-full w-full overflow-y-scroll no-scrollbar",ref:c},a.createElement("div",{className:"w-full sticky top-0 bg-black z-20"},a.createElement("h2",{className:"text-lg text-light my-4"},"Filter opinions by:"),a.createElement("div",{className:"flex flex-wrap gap-x-2"},o.map((function(e){var t=e.secondWord,o=e.nomaskDelta,s=n===t,c=r===t;return a.createElement(u.e,{key:t,checkbox:!0,isCurrent:c,className:"mb-2",isSelected:s,onClick:function(){return l(s?void 0:t)},style:{"--gradient-mix":d("EA3C9A","3514FF",100*o)}},t)})))),a.createElement("div",{className:s()("transition-transform w-full md:w-11/12 3xl:w-10/12 mx-auto"),id:"comments-container"},a.createElement("div",{className:"grid grid-cols-2 gap-8 justify-around "},["promask","nomask"].map((function(e){return a.createElement(h,{key:e,origin:e,comments:t,chosen:r,secondWord:n})}))))))}var x=["words","allComments"];function v(e){var t=e.data,r=t.words,o=t.allComments,u=(0,n.Z)(t,x),m=(0,a.useState)({}),d=m[0],p=m[1],h=(0,a.useState)(),v=h[0],w=h[1],k=(0,a.useState)(!1),E=k[0],y=k[1],N=(0,a.useMemo)((function(){return o.nodes.filter((function(e){var t=e.sentences;return(0,b.a)(t,d.current)}))}),[d.current]);(0,a.useEffect)((function(){!E&&v&&y(!0)}),[v]),(0,a.useEffect)((function(){!d.next&&w()}),[d]);var C=r.nodes.map((function(e){return e.name})),W=u.distribution.nodes.filter((function(e){return-1!==C.findIndex((function(t){return t===e.secondWord}))}));return a.createElement(l.Z,{wrapperClassName:"max-h-screen h-screen flex flex-col",navClassName:"!text-black",className:"flex-1 min-h-0 "},a.createElement("div",{className:"w-full h-full overflow-hidden flex flex-nowrap  border-y-white border-t-2 "},a.createElement(c,{words:r.nodes,chosen:d,setChosen:p}),a.createElement("div",{className:s()("transition-[width] duration-1000 overflow-hidden flex flex-col",d.current?"w-10/12":"w-0")},a.createElement(i,{title:"Related words",subtitle:a.createElement(a.Fragment,null,"usage of words mentioned with ",a.createElement("span",{className:"uppercase"},d.current)),isOpen:!E,onClick:function(){return y(!E)}},a.createElement(f,{chosen:d,words:r,distribution:W,onClickSecondWord:w})),a.createElement(i,{title:"Opinions",subtitle:a.createElement(a.Fragment,null,"containing ",a.createElement("span",{className:"uppercase"},d.current)," ",v&&a.createElement(a.Fragment,null,"and ",a.createElement("span",{className:"uppercase"},v)),"  "),isOpen:E,onClick:function(){return y(!E)}},a.createElement(g,{comments:N,distribution:W.filter((function(e){return e.word===d.current})),chosen:d.current,secondWord:v,onChangeSecondWord:w})))))}},166:function(e,t,r){function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){return-1!==e.findIndex((function(e){return e.toLowerCase()===t}))}function o(e,t){for(var r,a=n(e);!(r=a()).done;){if(l(r.value,t))return!0}return!1}r.d(t,{b:function(){return l},a:function(){return o}})},3366:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=component---src-pages-library-js-d5159f1368d4a01f479a.js.map