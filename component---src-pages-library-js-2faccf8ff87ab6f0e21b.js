"use strict";(self.webpackChunkphase_03=self.webpackChunkphase_03||[]).push([[255],{3132:function(e,t,r){r.d(t,{N:function(){return c},Z:function(){return s}});var n=r(7294),o=r(5900),a=r.n(o),l=r(166);function c(e){var t=e.children,r=e.className,o=e.isActive,l=e.promask,c=e.nomask,s=e.secondary;return n.createElement("span",{className:a()("highlighted-word",!l&&!c&&"before:bg-light",s?[o&&"before:bg-light"]:[l&&"before:bg-promask",c&&"before:bg-nomask",o&&(c||l)&&"text-white"],!o&&"before:scale-x-0",r)},t)}function s(e){var t=e.id,r=e.className,o=e.children,s=e.origin,i=e.sentences,u=e.user,m=e.createdAt,d=e.dateText,f=e.word,p=e.secondWord,b=e.petition,h=(e.splitted,e.petitionTitle,e.highlightWords),g=e.large,x=!1,v=(0,n.useState)();v[0],v[1];return n.createElement("div",{id:t,className:a()(r,"comment grid grid-cols-8 gap-4 w-full bg-white text-black boreder-2 normal-case",g?"p-8 rounded-xl":"p-4 rounded-xl text-base ","promask"===s&&"border-promask","nomask"===s&&"border-nomask")},n.createElement("div",{className:" "},n.createElement("div",{className:"rounded-full bg-"+s,style:{aspectRatio:"1"}})),n.createElement("div",{className:"col-span-7"},n.createElement("div",{className:"text-gray select-none "+(g?"text-xl":"text-sm")},n.createElement("span",null,"User",u)," â€¢ ",n.createElement("span",null,d||m)),n.createElement("p",{className:"comment-text "+(g?"text-4xl leading-snug py-4":"py-1 text-base")},void 0!==i?i.map((function(e,t){return(0,l.b)(e,f)||(0,l.b)(e,p)?(x=!1,n.createElement(n.Fragment,{key:t},e.map((function(e,t){var r=e.toLowerCase()===f,o=e.toLowerCase()===p;return r||o?n.createElement(n.Fragment,{key:t}," ",n.createElement(c,{isActive:h,promask:"promask"===s,nomask:"nomask"===s,secondary:!o},e)):e===p?n.createElement("span",{key:t,className:"border-light border-2"},e):e}))," ")):x?void 0:(x=!0,"[...] ")})):o),n.createElement("a",{href:"https://www.change.org/p/"+b.slug,title:b.title,className:a()("text-gray truncate underline hover:text-light-darker block ",g?"text-xl":"text-sm"),target:"_blank"},b.title||"Petition title")))}s.defaultProps={highlightWords:!0}},5986:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(3366),o=r(7294),a=r(9410),l=r(5900),c=r.n(l),s=r(4942);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){var t=e.words,r=e.chosen,n=e.setChosen;return o.createElement("div",{className:c()("transition-all duration-1000 overflow-y-scroll",r.current?"w-2/12 border-r-2 border-r-current":"w-full ")},o.createElement("div",{className:"sticky top-0 text-light px-8 pt-4 pb-4 border-white border-b-2 transition-[width] duration-1000 bg-black select-none  whitespace-nowrap "+(!r.current&&"w-screen cursor-pointer"),onClick:function(){return n({})}},o.createElement("h2",{className:c()("inline-block text-3xl uppercase ")},"Words"),o.createElement("span",{className:c()("ml-2 text-light text-2xl",r.current?"hidden":"")},"/ 20 most used in promask and nomask comments")),o.createElement("ul",{className:"pb-8"},t.map((function(e){var t=e.name,a=e.finding;return o.createElement("li",{key:t,onMouseEnter:function(){return n((function(e){return{current:e.current,next:t}}))},onMouseLeave:function(){return n((function(e){return u(u({},e),{},{next:void 0})}))},onClick:function(){return r.current!==t?n({current:t}):n({})},className:c()("border-y-[1px] border-b-current cursor-pointer hover:border-t-light",r.current===t?"bg-light text-black border-t-light":"hover:text-light border-t-black")},o.createElement("h2",{className:c()("text-xl uppercase","px-8 pt-4 pb-4")},t),r.current===t&&a&&o.createElement("p",{className:"px-8 pb-4"},a))}))))}function d(e){var t=e.onClick,r=e.isOpen,n=e.children,a=e.title,l=e.subtitle;return o.createElement("div",{className:"flex-grow flex flex-col last:border-t-white last:border-t-2 "+(r?"h-full":"")},o.createElement("div",{className:"pt-4 pb-4 px-8 border-y-white box-border flex justify-between group select-none cursor-pointer text-light ",onClick:t},o.createElement("div",{className:"whitespace-nowrap "},o.createElement("h2",{className:" text-3xl uppercase inline-block"},a),o.createElement("span",{className:c()("ml-2 leading-none text-2xl transition-[opacity] normal-case",r?"":"hidden group-hover:inline-block group-hover:opacity-50 group-active:opacity-100")},"/ ",l)),o.createElement("div",null,o.createElement("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M0 12.5L25 12.5",stroke:"currentColor",strokeWidth:"2"}),!r&&o.createElement("path",{d:"M12.5 25L12.5 -1.04308e-06",stroke:"currentColor",strokeWidth:"2"})))),o.createElement("div",{className:c()("overflow-hidden","",r?"h-full":"h-0")},n))}d.defaultProps={onToggle:function(){}};var f=r(7004);function p(e){return parseInt(e,16)}function b(e,t,r){r=void 0!==r?r:50;for(var n="#",o=0;o<=5;o+=2){for(var a=p(e.substr(o,2)),l=p(t.substr(o,2)),c=Math.floor(l+r/100*(a-l)).toString(16);c.length<2;)c="0"+c;n+=c}return n}function h(e){var t=e.chosen,r=e.words,n=e.distribution,a=e.onClickSecondWord;return o.createElement("div",{className:"h-full flex flex-col justify-between relative gap-4  "},o.createElement("p",{className:"mx-8 mb-4 text-xl"},"Horizontal position corresponds to usage by the two groups in the selcted corpus of comments"),o.createElement("div",{className:"flex-1 "},o.createElement("div",{className:c()(" h-full px-8 py-4 flex flex-col justify-between relative","overflow-hidden")},o.createElement("div",{className:"z-1 uppercase"},o.createElement("p",{className:"bg-promask text-white text-xl text-center h-full absolute top-0 bottom-0 left-0 rotate-180 p-1 z-10",style:{writingMode:"vertical-lr"}},"Promask"),o.createElement("p",{className:"bg-nomask text-white text-xl text-center h-full absolute top-0 bottom-0 right-0 p-1 z-10",style:{writingMode:"vertical-rl"}},"Nomask"),o.createElement("div",{className:"absolute top-0 bottom-0 right-1/2 translate-x-1/2 border-r-[1px] boreder-r-white border-dashed opacity-50"}),o.createElement("p",{className:"text-lg text-xs text-center absolute top-0 left-0 right-0 w-full normal-case bg-black"},"equally used")),void 0!==t&&t.current?r.nodes.map((function(e){var r=e.name,l=t.next?t.next===r:t.current===r,s=n.find((function(e){var n=e.word,o=e.secondWord;return t.next?t.next===n&&o===r:t.current&&n===t.current&&o===r})).nomaskDelta;return s=Math.round(100*s),o.createElement("div",{key:r,className:c()("w-full flex items-center relative","before:absolute before:left-0 before:right-0 ","before:border-b-[1px] before:block before:top-1/2 before:transition-all","before:w-full transition-all duration-500 delay-100",l?"before:border-b-gray  opacity-30":"before:border-b-current  before:opacity-20")},o.createElement(f.e,{isCurrent:l,style:{marginLeft:s+"%","--gradient-mix":l?void 0:b("EA3C9A","3514FF",s)},className:"transition-[margin] duration-1000 delay-100 rounded-[0px] -translate-x-1/2 absolute",onClick:function(){return a(r)}},r))})):o.createElement("div",{className:"p-20 text-7xl w-3/4 opacity-50 upppercase"},"click on one of the most used words to see how the related words are used by the two groups in the comments"))))}var g=r(3132),x=r(166);function v(e){var t=e.comments,r=e.chosen,n=e.secondWord,a=e.origin,l=(0,o.useMemo)((function(){var e=t.filter((function(e){var t=e.origin;return a===t}));return{totalComments:e.length,filteredComments:e.filter((function(e){var t=e.sentences;return!n||(0,x.a)(t,n)}))}}),[n,a,r]),c=l.filteredComments,s=l.totalComments;return o.createElement("div",null,o.createElement("p",{className:"sticky top-0 bg-black z-30 text-center text-lg pt-3 pb-4"},c.length,n&&" of "+s," ",a," comments"),o.createElement("div",{key:a,className:"flex flex-col gap-4 pb-64 "}," ",c.map((function(e){return o.createElement(g.Z,Object.assign({key:e.id,highlightWords:!0,word:r,secondWord:n},e))}))))}function w(e){var t=e.comments,r=e.chosen,n=e.secondWord,a=e.onChangeSecondWord,l=e.distribution;return o.createElement("div",{className:"flex h-full px-8 flex-wrap "},o.createElement("p",{className:"mb-4 w-full text-lg"},"Here you can read the comments on the 100 most liked promask and nomask petition"),o.createElement("div",{className:"w-full sticky top-0"},o.createElement("h2",{className:"uppercase mb-4"},"Filter comments by:"),o.createElement("div",{className:"flex flex-wrap gap-x-2"},l.map((function(e){var t=e.secondWord,l=e.nomaskDelta,c=n===t,s=r===t;return o.createElement(f.e,{key:t,checkbox:!0,isCurrent:s,className:"mb-2",isSelected:c,onClick:function(){return a(c?void 0:t)},style:{"--gradient-mix":b("EA3C9A","3514FF",100*l)}},t)})))),o.createElement("div",{className:"flex h-full w-full overflow-y-scroll"},o.createElement("div",{className:c()("transition-transform w-10/12 mx-auto"),id:"comments-container"},o.createElement("div",{className:"grid grid-cols-2 gap-16 justify-around "},["promask","nomask"].map((function(e){return o.createElement(v,{key:e,origin:e,comments:t,chosen:r,secondWord:n})}))))))}var E=["words","allComments"];function y(e){var t=e.data,r=t.words,l=t.allComments,s=(0,n.Z)(t,E),i=(0,o.useState)({}),u=i[0],f=i[1],p=(0,o.useState)(),b=p[0],g=p[1],v=(0,o.useState)(!1),y=v[0],k=v[1],N=(0,o.useMemo)((function(){return l.nodes.filter((function(e){var t=e.sentences;return(0,x.a)(t,u.current)}))}),[u.current]);(0,o.useEffect)((function(){!y&&b&&k(!0)}),[b]),(0,o.useEffect)((function(){!u.next&&g()}),[u]);var C=r.nodes.map((function(e){return e.name})),O=s.distribution.nodes.filter((function(e){return-1!==C.findIndex((function(t){return t===e.secondWord}))}));return o.createElement(a.Z,{wrapperClassName:"max-h-screen h-screen flex flex-col pb-16",className:"flex-1 min-h-0 "},o.createElement("div",{className:"w-full h-full overflow-hidden flex flex-nowrap  border-y-white border-y-2 "},o.createElement(m,{words:r.nodes,chosen:u,setChosen:f}),o.createElement("div",{className:c()("transition-[width] duration-1000 overflow-hidden flex flex-col",u.current?"w-10/12":"w-0")},o.createElement(d,{title:"Related words",subtitle:o.createElement(o.Fragment,null,"usage of words when occurring with ",o.createElement("span",{className:"uppercase"},u.current)),isOpen:!y,onClick:function(){return k(!y)}},o.createElement(h,{chosen:u,words:r,distribution:O,onClickSecondWord:g})),o.createElement(d,{title:"Opinions",subtitle:o.createElement(o.Fragment,null,"containing ",o.createElement("span",{className:"uppercase"},u.current)," ",b&&o.createElement(o.Fragment,null,"and ",o.createElement("span",{className:"uppercase"},b)),"  "),isOpen:y,onClick:function(){return k(!y)}},o.createElement(w,{comments:N,distribution:O.filter((function(e){return e.word===u.current})),chosen:u.current,secondWord:b,onChangeSecondWord:g})))))}},166:function(e,t,r){function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return-1!==e.findIndex((function(e){return e.toLowerCase()===t}))}function l(e,t){for(var r,o=n(e);!(r=o()).done;){if(a(r.value,t))return!0}return!1}r.d(t,{b:function(){return a},a:function(){return l}})}}]);
//# sourceMappingURL=component---src-pages-library-js-2faccf8ff87ab6f0e21b.js.map