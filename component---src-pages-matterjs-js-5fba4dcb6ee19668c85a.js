(self.webpackChunkphase_03=self.webpackChunkphase_03||[]).push([[232],{8810:function(e){var n={};e.exports=function(e){e.Vertices,e.Vector,e.Sleeping,e.Render;var t=e.Common,o=(e.Bounds,e.Axes,e.Body);e.Events;return(n=t.clone(o,!0)).create=function(e){var n=o.create.apply(null,arguments);return n},n.setVertices=function(e,n){o.setVertices.apply(null,arguments)},n.setPosition=function(e,n){o.setPosition.apply(null,arguments)},n.setAngle=function(e,n){o.setAngle.apply(null,arguments)},n.scale=function(e,n,t,i){o.scale.apply(null,arguments)},n.update=function(e,n,t,i){o.update.apply(null,arguments)},n}},7081:function(e){var n={};e.exports=function(e){e.Vertices;var t=e.Sleeping,o=e.Mouse,i=e.Events,r=(e.Detector,e.Constraint),a=e.Composite,l=e.Common,s=e.Bounds;n.create=function(e,t){var s=(e?e.mouse:null)||(t?t.mouse:null);s||(e&&e.render&&e.render.canvas?s=o.create(e.render.canvas):t&&t.element?s=o.create(t.element):(s=o.create(),l.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var c={type:"mouseConstraint",mouse:s,element:null,body:null,constraint:r.create({label:"Mouse Constraint",pointA:s.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},d=l.extend(c,t);return i.on(e,"beforeUpdate",(function(){var t=a.allBodies(e.world);n.update(d,t),u(d)})),d},n.update=function(e,n){var o,r=e.mouse,a=e.constraint,l=e.body;if(0===r.button)if(a.bodyB)t.set(a.bodyB,!1),o=l.Dom.render.mapping.viewToWorld(r.position),a.pointA=o;else{document.querySelectorAll("[matter]");for(var u=0;u<n.length;u++){o=(l=n[u]).Dom.render.mapping.viewToWorld(r.position);l.Dom.render.mapping.worldToView(l.position);if(s.contains(l.bounds,o)){a.pointA=o,a.bodyB=e.body=l,a.pointB={x:0,y:0},a.angleB=l.angle;break}}}else a.bodyB=e.body=null,a.pointB=null,l&&i.trigger(e,"enddrag",{mouse:r,body:l})};var u=function(e){var n=e.mouse,t=n.sourceEvents;t.mousemove&&i.trigger(e,"mousemove",{mouse:n}),t.mousedown&&i.trigger(e,"mousedown",{mouse:n}),t.mouseup&&i.trigger(e,"mouseup",{mouse:n}),o.clearSourceEvents(n)};return n}},8769:function(e){e.exports=function(e){e.World,e.Sleeping,e.Resolver,e.Render,e.Pair,e.Metrics,e.Grid,e.Events;var n=e.Composite,t=(e.Constraint,e.Common,e.Body,e.DomBody),o=e.Engine,i=o.update;o.update=function(e,t,o){i(e,t,o),t=t||1e3/60,o=o||1;var a=e.world,l=e.timing,s=n.allBodies(a);return r(s,t,l.timeScale,o,a.bounds),e};var r=function(e,n,o,i,r){for(var a=0;a<e.length;a++){var l=e[a];l.isStatic||l.isSleeping||t.update(l,n,o,i)}}}},6154:function(e){var n={};e.exports=function(e){e.Body;var t=e.Bodies,o=e.DomBody,i=e.Vertices,r=e.Common,a=e.World;e.Bounds,e.Vector;return n.create=function(e){var t=e.bodyType,o=e.el,i=e.render,r=e.position;delete e.bodyType,delete e.render,delete e.position,e.domRenderer=i;var l=null,s=document.querySelector(o),u=i.mapping.viewToWorld({x:r.x,y:r.y});if("block"==t){var c=i.mapping.viewToWorld({x:s.offsetWidth,y:s.offsetHeight});l=n.OGblock(u.x,u.y,c.x,c.y,e)}else if("circle"==t){var d=i.mapping.viewToWorld(s.offsetWidth/2);l=n.circle(u.x,u.y,d,e)}return l&&a.add(i.engine.world,[l]),l},n.OGblock=function(e,n,t,a,l){l=l||{};var s={label:"Block Body",position:{x:e,y:n},vertices:i.fromPath("L 0 0 L "+t+" 0 L "+t+" "+a+" L 0 "+a)};if(l.chamfer){var u=option.chamfer;s.vertices=i.chamfer(s.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete l.chamfer}return o.create(r.extend({},s,l))},n.block=function(e,n,t){t=t||{};var a=(t=r.extend({Dom:{element:null,render:null}},t)).Dom.render,l=t.Dom.element,s=a.mapping.viewToWorld({x:e,y:n}),u=a.mapping.viewToWorld({x:l.offsetWidth,y:l.offsetHeight}),c={label:"DOM Block Body",position:{x:s.x,y:s.y},vertices:i.fromPath("L 0 0 L "+u.x+" 0 L "+u.x+" "+u.y+" L 0 "+u.y)};if(t.chamfer){var d=option.chamfer;c.vertices=i.chamfer(c.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete t.chamfer}return o.create(r.extend({},c,t))},n.circle=function(e,t,o,i,a){i=i||{};var l={label:"Circle Body",circleRadius:o};a=a||25;var s=Math.ceil(Math.max(10,Math.min(a,o)));return s%2==1&&(s+=1),n.polygon(e,t,s,o,r.extend({},l,i))},n.polygon=function(e,n,a,l,s){if(s=s||{},a<3)return t.circle(e,n,l,s);for(var u=2*Math.PI/a,c="",d=.5*u,m=0;m<a;m+=1){var p=d+m*u,f=Math.cos(p)*l,g=Math.sin(p)*l;c+="L "+f.toFixed(3)+" "+g.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:e,y:n},vertices:i.fromPath(c)};if(s.chamfer){var h=s.chamfer;y.vertices=i.chamfer(y.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete s.chamfer}return o.create(r.extend({},y,s))},n}},6995:function(e,n,t){var o=t(1742),i=t(781),r=t(8810),a=t(6154),l=t(7081),s=t(8769),u={name:"matter-dom-plugin",version:"1.0.0",for:"matter-js@^0.12.0",install:function(e){u.installRenderDom(e),u.installDomBody(e),u.installDomBodies(e),u.installDomMouseConstraint(e),u.installEngine(e)},installRenderDom:function(e){console.log("Installing RenderDom module."),e.RenderDom=i(e)},installDomBodies:function(e){console.log("Installing DomBodies module."),e.DomBodies=a(e)},installDomMouseConstraint:function(e){console.log("Installing DomMouseConstraint."),e.DomMouseConstraint=l(e)},installDomBody:function(e){console.log("Installing DomBody updates."),e.DomBody=r(e)},installEngine:function(e){console.log("Patching Engine."),s(e)}};o.Plugin.register(u)},781:function(e){var n={};e.exports=function(e){var t,o,i=e.Common,r=e.Composite,a=e.Events,l=e.Render;return"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(i.now())}),1e3/60)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n.create=function(e){var t={engine:null,element:window,controller:n,frameRequestId:null,options:{}},o=e.engine,r=i.extend(t,e);r.mapping={},r.mapping.ratioMultiplier=1/6,r.mapping.VIEW={width:window.innerWidth,height:window.innerHeight},r.mapping.VIEW.center={x:r.mapping.VIEW.width/2,y:r.mapping.VIEW.height/2},r.mapping.WORLD={width:r.mapping.VIEW.width*r.mapping.ratioMultiplier,height:r.mapping.VIEW.height*r.mapping.ratioMultiplier},r.mapping.WORLD.center={x:r.mapping.WORLD.width/2,y:r.mapping.WORLD.height/2},r.mapping.viewToWorld=function(e){return"object"==typeof e&&null!==e?{x:r.mapping.ratioMultiplier*e.x,y:r.mapping.ratioMultiplier*e.y}:r.mapping.ratioMultiplier*e},r.mapping.worldToView=function(e){return"object"==typeof e&&null!==e?{x:e.x/r.mapping.ratioMultiplier,y:e.y/r.mapping.ratioMultiplier}:e/r.mapping.ratioMultiplier},document.querySelector("#debug").style.position="absolute";var a=l.create({element:document.querySelector("#debug"),engine:o,options:{width:r.mapping.WORLD.width,height:r.mapping.WORLD.height,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}});return l.run(a),r.DebugRender=a,r},n.run=function(e){!function o(i){e.frameRequestId=t(o),n.world(e)}()},n.stop=function(e){o(e.frameRequestId)},n.world=function(e){var t=e.engine,o=t.world,i=(r.allBodies(o),r.allConstraints(o),document.querySelectorAll("[matter]")),l={timestamp:t.timing.timestamp};a.trigger(e,"beforeRender",l),n.bodies(e,i)},n.bodies=function(e,n,t){for(var o=e.engine.world,i=(e.options,r.allBodies(o)),a=0;a<i.length;a++)for(var l=i[a],s=l.parts.length>1?1:0;s<l.parts.length;s++){var u=l.parts[s],c=u.Dom.element,d=e.mapping.worldToView({x:u.position.x,y:u.position.y}),m={x:c.offsetWidth/2,y:c.offsetHeight/2};c.style.position="absolute",c.style.transform="translate(".concat(d.x-m.x,"px, ").concat(d.y-m.y,"px)"),c.style.transform+="rotate(".concat(l.angle,"rad)")}},n}},1555:function(e,n,t){"use strict";t.r(n);var o=t(7294),i=t(1742),r=t.n(i),a=(t(6995),t(9410));n.default=function(e){var n=(0,o.useRef)(),t=(0,o.useRef)(i.Engine.create());return(0,o.useEffect)((function(){r().use("matter-dom-plugin");var e=document.body.clientWidth,o=document.body.clientHeight,a=i.Render.create({element:n.current,engine:t.current,options:{width:e,height:o,wireframes:!1,background:"transparent"}});return function(){i.Render.stop(a),i.World.clear(t.current.world),i.Engine.clear(t.current),a.canvas.remove(),a.canvas=null,a.context=null,a.textures={}}}),[]),o.createElement(a.Z,null,o.createElement("div",{ref:n,className:"w-screen h-screen"}))}}}]);
//# sourceMappingURL=component---src-pages-matterjs-js-5fba4dcb6ee19668c85a.js.map